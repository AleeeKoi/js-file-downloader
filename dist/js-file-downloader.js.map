{"version":3,"sources":["webpack://jsFileDownloader/webpack/universalModuleDefinition","webpack://jsFileDownloader/webpack/bootstrap","webpack://jsFileDownloader/./src/exception.js","webpack://jsFileDownloader/./src/index.js","webpack://jsFileDownloader/./src/signatures.js"],"names":["DownloadException","_Error","_inherits","_super","_createSuper","message","request","_this","_classCallCheck","call","concat","name","_createClass","_wrapNativeSuper","Error","downloadException","_typeof","obj","Symbol","iterator","constructor","prototype","_regeneratorRuntime","exports","Op","Object","hasOwn","hasOwnProperty","defineProperty","key","desc","value","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","instance","Constructor","_defineProperties","target","props","descriptor","_toPropertyKey","protoProps","staticProps","_toPrimitive","String","input","hint","prim","toPrimitive","res","Number","DEFAULT_PARAMS","timeout","headers","forceDesktopMode","autoStart","withCredentials","nameCallback","contentType","body","nativeFallbackOnError","contentTypeDetermination","JsFileDownloader","customParams","params","assign","link","createLink","downloadedFile","abortController","downloadFile","start","abort","reason","initDownload","setAbortListner","abortListener","signal","addEventListener","unsetAbortListner","removeEventListener","_this2","fallback","href","url","clickLink","isMobile","createRequest","window","AbortController","_ref","onload","_callee","_callee$","_context","parseInt","status","startDownload","ontimeout","onerror","send","test","navigator","userAgent","XMLHttpRequest","open","setRequestHeader","header","responseType","process","onloadstart","includeCredentials","getFileName","filename","content","getResponseHeader","contentParts","replace","match","extractedName","split","getContentTypeFromFileSignature","file","signatures","fileSignatures","customFileSignatures","reader","FileReader","first4BytesOfFile","onloadend","evt","readyState","DONE","uint","Uint8Array","bytes","byte","toString","hex","join","toUpperCase","readAsArrayBuffer","getContentTypeFromResponseHeader","getContentType","response","_this3","_ref3","_callee2","defaultContentType","headerContentType","signatureContentType","_headerContentType","_signatureContentType","_ref4","_signatureContentType2","_callee2$","_context2","Blob","_x","document","createElement","style","display","event","MouseEvent","e","createEvent","initMouseEvent","dispatchEvent","_getFile","_callee3","fileName","options","_callee3$","_context3","File","lastModifiedDate","Date","getFile","_x2","_x3","_startDownload","_callee4","objectUrl","_callee4$","_context4","msSaveOrOpenBlob","URL","createObjectURL","download","setTimeout","webkitURL","revokeObjectURL"],"mappings":"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","file":"js-file-downloader.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jsFileDownloader\"] = factory();\n\telse\n\t\troot[\"jsFileDownloader\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export class DownloadException extends Error {\n  constructor (message, request) {\n    super(`Downloader error: ${message}`);\n    this.request = request;\n    this.name = 'DownloadException';\n  }\n};\n\n/**\n * @deprecated use DownloadException instead, it will be removed in next releases!\n */\nexport const downloadException = DownloadException;\n","/*!\n * JS File Downloader v ##package_version##\n * https://github.com/AleeeKoi/js-file-downloader\n *\n * Copyright Alessandro Pellizzari\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n */\n\n'use strict';\n\nimport { DownloadException } from './exception';\nimport {fileSignatures} from './signatures';\n\nconst DEFAULT_PARAMS = {\n  timeout: 40000,\n  headers: [],\n  forceDesktopMode: false,\n  autoStart: true,\n  withCredentials: false,\n  method: 'GET',\n  nameCallback: name => name,\n  contentType: 'application/x-www-form-urlencoded',\n  body: null,\n  nativeFallbackOnError: false,\n  contentTypeDetermination: false\n};\n\nclass JsFileDownloader {\n\n  /**\n   * Create a new JsFileDownloader instance\n   * You need to define a {String} \"url\" params and other\n   * @param {Object} customParams\n   */\n  constructor (customParams = {}) {\n    this.params = Object.assign({}, DEFAULT_PARAMS, customParams);\n    this.link = this.createLink();\n    this.request = null;\n    this.downloadedFile = null;\n    this.abortController = undefined;\n\n    if (this.params.autoStart) return this.downloadFile();\n\n    return this;\n  }\n\n  start () {\n    return this.downloadFile();\n  }\n\n  abort (reason) {\n    if (!this.abortController) { return; }\n    this.abortController.abort(reason || 'Download cancelled');\n  }\n\n  downloadFile () {\n    return new Promise((resolve, reject) => {\n      this.initDownload(resolve, reject);\n    });\n  }\n\n  setAbortListner (abortListener) {\n    if (!this.abortController) { return; }\n    this.abortController.signal.addEventListener('abort', abortListener);\n  }\n\n  unsetAbortListner (abortListener) {\n    if (!this.abortController) { return; }\n    this.abortController.signal.removeEventListener('abort', abortListener);\n  }\n\n  initDownload (resolve, reject) {\n\n    const fallback = () => {\n      this.link.target = '_blank';\n      this.link.href = this.params.url;\n      this.clickLink();\n    };\n\n    // fallback for old browsers\n    if (!('download' in this.link) || this.isMobile()) {\n      fallback();\n      return resolve();\n    }\n\n    this.request = this.createRequest();\n\n    this.abortController = 'AbortController' in window ? new AbortController() : null;\n\n    const abortListener = ({target}) => {\n      this.unsetAbortListner(abortListener);\n      !!this.request && this.request.abort();\n      reject(target.reason);\n    };\n\n    this.setAbortListner(abortListener);\n\n    if (!this.params.url) {\n      return reject(new DownloadException('url param not defined!', this.request));\n    }\n\n    this.request.onload = async () => {\n      this.unsetAbortListner(abortListener);\n      if (parseInt(this.request.status, 10) !== 200) {\n        return reject(new DownloadException(`status code [${this.request.status}]`, this.request));\n      }\n      await this.startDownload();\n      return resolve(this);\n    };\n\n    this.request.ontimeout = () => {\n      this.unsetAbortListner(abortListener);\n      reject(new DownloadException('request timeout', this.request));\n    };\n\n    this.request.onerror = () => {\n      this.unsetAbortListner(abortListener);\n      if (this.params.nativeFallbackOnError) {\n        fallback();\n        resolve(this);\n      } else {\n        reject(new DownloadException('network error', this.request));\n      }\n    };\n\n    this.request.send(this.params.body);\n\n    return this;\n  }\n\n  isMobile () {\n    return !this.params.forceDesktopMode &&\n      /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n  }\n\n  createRequest () {\n    let request = new XMLHttpRequest();\n\n    request.open(this.params.method, this.params.url, true);\n    if (this.params.contentType !== false) {\n      request.setRequestHeader('Content-type', this.params.contentType);\n    }\n    this.params.headers.forEach(header => {\n      request.setRequestHeader(header.name, header.value);\n    });\n    request.responseType = 'arraybuffer';\n    if (this.params.process && typeof this.params.process === 'function') {\n      request.addEventListener('progress', this.params.process);\n    }\n    if (this.params.onloadstart && typeof this.params.onloadstart === 'function') {\n      request.onloadstart = this.params.onloadstart;\n    }\n    request.timeout = this.params.timeout;\n    request.withCredentials = !!this.params.withCredentials || !!this.params.includeCredentials;\n    return request;\n  }\n\n  getFileName () {\n    // Forcing file name\n    if (typeof this.params.filename === 'string') {\n      return this.params.filename;\n    }\n    // Trying to get file name from response header\n    let content = this.request.getResponseHeader('Content-Disposition');\n    let contentParts = [];\n\n    if (content) {\n      contentParts = content.replace(/[\"']/g, '').match(/filename\\*?=([^;]+)/);\n    }\n\n    const extractedName = contentParts && contentParts.length >= 1 ?\n      contentParts[1] :\n      this.params.url.split('/').pop().split('?')[0];\n\n    return this.params.nameCallback(extractedName);\n  }\n\n  getContentTypeFromFileSignature (file) {\n    const signatures = Object.assign({}, fileSignatures, this.params.customFileSignatures);\n\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      const first4BytesOfFile = file.slice(0, 4);\n\n      reader.onloadend = (evt) => {\n        if (evt.target.readyState !== FileReader.DONE) {\n          reject();\n          return;\n        }\n        // Since an array buffer is just a generic way to represent a binary buffer\n        // we need to create a TypedArray, in this case an Uint8Array\n        const uint = new Uint8Array(evt.target.result);\n        const bytes = [];\n\n        uint.forEach((byte) => {\n          // transform every byte to hexadecimal\n          bytes.push(byte.toString(16));\n        });\n\n        const hex = bytes.join('').toUpperCase();\n        resolve(signatures[hex]);\n      };\n\n      reader.onerror = reject;\n\n      // read first 4 bytes of sliced file as an array buffer\n      reader.readAsArrayBuffer(first4BytesOfFile);\n    });\n  }\n\n  getContentTypeFromResponseHeader () {\n    return this.request.getResponseHeader('content-type');\n  }\n\n  getContentType (response) {\n    return new Promise(async (resolve) => {\n      const { contentTypeDetermination } = this.params;\n      const defaultContentType = 'application/octet-stream';\n      let headerContentType;\n      let signatureContentType;\n\n      if (contentTypeDetermination === 'header' || contentTypeDetermination === 'full') {\n        headerContentType = this.getContentTypeFromResponseHeader();\n      }\n\n      if (contentTypeDetermination === 'signature' || contentTypeDetermination === 'full') {\n        signatureContentType = await this.getContentTypeFromFileSignature(new Blob([response]));\n      }\n\n      if (contentTypeDetermination === 'header') {\n        resolve(headerContentType ?? defaultContentType);\n      } else if (contentTypeDetermination === 'signature') {\n        resolve(signatureContentType ?? defaultContentType);\n      } else if (contentTypeDetermination === 'full') {\n        resolve(signatureContentType ?? headerContentType ?? defaultContentType);\n      } else {\n        resolve(defaultContentType);\n      }\n    });\n  }\n\n  createLink () {\n    let link = document.createElement('a');\n\n    link.style.display = 'none';\n    return link;\n  }\n\n  clickLink () {\n    let event;\n\n    try {\n      event = new MouseEvent('click');\n    } catch (e) {\n      event = document.createEvent('MouseEvent');\n      event.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    }\n\n    this.link.dispatchEvent(event);\n  }\n\n  async getFile (response, fileName) {\n    const type = await this.getContentType(response);\n    let file;\n    let options = { type };\n\n    try {\n      file = new File([response], fileName, options);\n    } catch (e) {\n      file = new Blob([response], options);\n      file.name = fileName;\n      file.lastModifiedDate = new Date();\n    }\n\n    return file;\n  }\n\n  async startDownload () {\n    const fileName = this.getFileName();\n\n    this.downloadedFile = await this.getFile(this.request.response, fileName);\n\n    // native IE\n    if ('msSaveOrOpenBlob' in window.navigator) {\n      return window.navigator.msSaveOrOpenBlob(this.downloadedFile, fileName);\n    }\n\n    let objectUrl = window.URL.createObjectURL(this.downloadedFile);\n\n    this.link.href = objectUrl;\n    this.link.download = fileName;\n    this.clickLink();\n\n    setTimeout(() => {\n      (window.URL || window.webkitURL || window).revokeObjectURL(objectUrl);\n    }, 1000 * 40);\n\n    return this.downloadedFile;\n  }\n\n}\n\nexport default JsFileDownloader;\n","export const fileSignatures = {\n  '89504E47': 'image/png',\n  '25504446': 'application/pdf'\n};\n"],"sourceRoot":""}